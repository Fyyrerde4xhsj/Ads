<!DOCTYPE html>
<html>
<head>
    <title>Redirecting...</title>
    <style>
        .ad-container { max-width: 728px; margin: 50px auto; text-align: center; }
        .countdown { font-size: 24px; margin: 20px 0; }
        .skip-btn { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <div class="ad-container">
        <h2>Please wait while we redirect you...</h2>
        
        <!-- Ad space -->
        <div id="ad-banner">
            <!-- Your ad code here -->
            <img src="{{ asset('images/ad-sample.jpg') }}" alt="Advertisement" style="max-width: 100%;">
        </div>
        
        <div class="countdown">
            Redirecting in <span id="countdown">5</span> seconds...
        </div>
        
        <form action="{{ route('process.click', $link->id) }}" method="GET" id="redirect-form">
            <button type="submit" class="skip-btn" id="skip-btn" disabled>Skip Ad</button>
        </form>
    </div>

    <script>
        let seconds = 5;
        const countdownEl = document.getElementById('countdown');
        const skipBtn = document.getElementById('skip-btn');
        
        const timer = setInterval(() => {
            seconds--;
            countdownEl.textContent = seconds;
            
            if (seconds <= 0) {
                clearInterval(timer);
                skipBtn.disabled = false;
                skipBtn.textContent = 'Continue';
            }
        }, 1000);
        
        // Auto-submit after 5 seconds
        setTimeout(() => {
            document.getElementById('redirect-form').submit();
        }, 5000);
    </script>
</body>
</html>